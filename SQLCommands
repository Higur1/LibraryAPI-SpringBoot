CREATE TABLE author(
	id uuid NOT NULL PRIMARY KEY,
	name VARCHAR(100) NOT NULL,
	birth_date DATE NOT NULL,
	nationality VARCHAR(50) NOT NULL,
	register_date timestamp,
	update_date timestamp,
	user_id uuid

);

CREATE TABLE book(
	id uuid NOT NULL PRIMARY KEY,
	isbn VARCHAR(20) NOT NULL UNIQUE,
	title VARCHAR(150) NOT NULL,
	release_date DATE NOT NULL,
	genre VARCHAR(30) NOT NULL,
	price NUMERIC(18,2),
	register_date timestamp,
    update_date timestamp,
    user_id uuid,
	author_id uuid NOT NULL REFERENCES author(id),

	CONSTRAINT chk_genre CHECK(genre IN ('FICTION', 'FANTASY', 'MYSTERY', 'ROMANCE', 'BIOGRAPHY', 'SCIENCE'))
);